(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1401:(e,t,a)=>{Promise.resolve().then(a.bind(a,5747))},5747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(5155),r=a(2115),l=a(8270),o=a(4558);let i=(0,r.forwardRef)((e,t)=>{let{article:a,onReadMoreClick:r}=e;if(!a)return(0,s.jsx)("section",{ref:t,id:e.id,className:"bg-slate-700 dark:bg-slate-800 text-white py-20 text-center min-h-[60vh] flex items-center justify-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400 mb-4"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Loading featured article..."})]})});let l=a.imageUrl||"https://images.unsplash.com/photo-1495020689067-958852a7765e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80";return(0,s.jsx)("section",{ref:t,id:e.id,className:"relative bg-cover bg-center text-white",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.4)), url('".concat(l,"')")},"aria-labelledby":"hero-article-title",children:(0,s.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32 flex flex-col justify-center min-h-[70vh] md:min-h-[60vh]",children:(0,s.jsxs)("div",{className:"md:w-2/3 lg:w-1/2",children:[a.category&&(0,s.jsx)("p",{className:"text-sm font-semibold text-yellow-400 dark:text-yellow-300 uppercase tracking-wider mb-2 animate-fadeInUp animation-delay-100",children:a.category}),(0,s.jsx)("h1",{id:"hero-article-title",className:"text-3xl sm:text-4xl md:text-5xl font-extrabold tracking-tight mb-4 text-shadow-md animate-fadeInUp animation-delay-300",children:a.title}),(0,s.jsxs)("div",{className:"text-sm text-gray-200 dark:text-gray-300 mb-3 animate-fadeInUp animation-delay-500",children:["By ",(0,s.jsx)("span",{className:"font-semibold",children:a.author.name})," on ",a.date]}),(0,s.jsx)("p",{className:"text-md sm:text-lg text-gray-300 dark:text-gray-200 mb-6 leading-relaxed line-clamp-3 animate-fadeInUp animation-delay-600",children:a.summary}),(0,s.jsx)("div",{className:"animate-fadeInUp animation-delay-700",children:(0,s.jsx)("button",{onClick:()=>r(a),className:"mt-2 px-8 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg shadow-md hover:bg-yellow-400 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:text-slate-900 transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-300 dark:focus:ring-yellow-200 focus:ring-offset-2 focus:ring-offset-slate-900 dark:focus:ring-offset-black",children:"Read Full Story"})})]})})})});var n=a(2914);let c=(0,r.forwardRef)((e,t)=>(0,s.jsx)("section",{ref:t,id:e.id,className:"py-16 md:py-24 bg-white dark:bg-slate-900 ".concat(e.className||""),"aria-labelledby":"about-publication-heading",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("h2",{id:"about-publication-heading",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100 text-center mb-12",children:["About ",n.lU]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("img",{src:"https://images.unsplash.com/photo-1455849318743-b2233052fcff?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80",alt:"".concat(n.lU," - Our Mission"),className:"rounded-lg shadow-xl object-cover w-full h-96 md:h-full"})}),(0,s.jsxs)("div",{className:"text-lg text-slate-700 dark:text-slate-300 space-y-6",children:[(0,s.jsx)("p",{className:"font-semibold text-yellow-600 dark:text-yellow-400 text-xl",children:n.KM}),(0,s.jsxs)("p",{children:[n.lU," is dedicated to providing reliable, timely, and engaging news coverage. We believe in the power of storytelling to connect communities and foster understanding. Our team of journalists is committed to upholding the highest standards of ethics and accuracy."]}),(0,s.jsx)("p",{children:"Founded on the principles of truth, fairness, and public service, we strive to be your trusted source for local news, in-depth features, and thought-provoking commentary. We cover a wide range of topics that impact our readers, from local government and community events to human interest stories and cultural highlights."}),(0,s.jsxs)("p",{children:["We are passionate about journalism and its role in a democratic society. Thank you for supporting ",n.lU,"."]})]})]})]})}));var d=a(2818);let m=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return d.env[e]||(null===(t=window.__ENV__)||void 0===t?void 0:t[e])||a},u={apiUrl:m("VITE_API_URL")||(m("VITE_SUPABASE_URL")?m("VITE_SUPABASE_URL")+"/rest/v1":"http://localhost:3001/api"),supabaseUrl:m("VITE_SUPABASE_URL")||"https://zrsfmghkjhxkjjzkigck.supabase.co",supabaseAnonKey:m("VITE_SUPABASE_ANON_KEY")||"",features:{showApiDemo:"true"===m("VITE_SHOW_API_DEMO"),enableAdmin:"true"===m("VITE_ENABLE_ADMIN"),showDebug:!1},isDevelopment:!1,isProduction:!0,geminiApiKey:m("VITE_GEMINI_API_KEY")};class h{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{...this.headers,...t.headers}});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return{data:await a.json()}}catch(e){return console.error("Supabase request error:",e),{error:e}}}async getArticles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{limit:t=10,offset:a=0,status:s="PUBLISHED"}=e,r="?status=eq.".concat(s,"&limit=").concat(t,"&offset=").concat(a,"&order=publishedAt.desc");return this.request("/articles".concat(r,"&select=*,author:authors(*),category:categories(*)"))}async getArticleBySlug(e){return this.request("/articles?slug=eq.".concat(e,"&select=*,author:authors(*),category:categories(*),tags:_ArticleToTag(tag:tags(*))"))}async createArticle(e){return this.request("/articles",{method:"POST",body:JSON.stringify(e)})}async updateArticle(e,t){return this.request("/articles?id=eq.".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteArticle(e){return this.request("/articles?id=eq.".concat(e),{method:"DELETE"})}async getFeaturedArticle(){try{let e=await this.request("/articles?isFeatured=eq.true&status=eq.PUBLISHED&select=*,author:authors(*),category:categories(*)&limit=1");if(e.data&&e.data.length>0)return{...e,data:e.data[0]};let t=await this.request("/articles?status=eq.PUBLISHED&select=*,author:authors(*),category:categories(*)&order=publishedAt.desc&limit=1");if(t.data&&t.data.length>0)return{...t,data:t.data[0]};return{data:null,error:null}}catch(e){return{data:null,error:{message:"Failed to fetch featured article"}}}}async getAuthors(){try{let e=await this.request("/authors?isActive=eq.true&order=name.asc");if(e.error||!e.data)return e;let t=await Promise.all(e.data.map(async e=>{try{let t=await this.request("/articles?authorId=eq.".concat(e.id,"&select=id&status=eq.PUBLISHED")),a=t.data?t.data.length:0;return{...e,articleCount:a}}catch(t){return console.warn("Failed to get article count for author ".concat(e.name,":"),t),{...e,articleCount:0}}}));return{...e,data:t}}catch(e){return console.error("Error fetching authors with article counts:",e),{error:{message:"Failed to fetch authors"},data:null}}}async createAuthor(e){return this.request("/authors",{method:"POST",body:JSON.stringify(e)})}async updateAuthor(e,t){console.log("SupabaseService.updateAuthor called with:",e,t);let a=await this.request("/authors?id=eq.".concat(e),{method:"PATCH",body:JSON.stringify(t)});return console.log("SupabaseService.updateAuthor result:",a),a}async deleteAuthor(e){return this.request("/authors?id=eq.".concat(e),{method:"DELETE"})}async getCategories(){return this.request("/categories?isActive=eq.true&order=name.asc")}async createCategory(e){return this.request("/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/categories?id=eq.".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/categories?id=eq.".concat(e),{method:"DELETE"})}async getGalleryItems(e){return this.request("/gallery_items".concat(e?"?categoryId=eq.".concat(e,"&isActive=eq.true&order=createdAt.desc"):"?isActive=eq.true&order=createdAt.desc","&select=*,category:gallery_categories(*)"))}async getGalleryCategories(){return this.request("/gallery_categories?isActive=eq.true&order=name.asc")}async healthCheck(){try{let e=await fetch("".concat(u.supabaseUrl,"/rest/v1/"),{headers:{apikey:u.supabaseAnonKey}});return{success:e.ok,status:e.status,timestamp:new Date().toISOString()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()}}}constructor(){this.baseUrl=u.supabaseUrl+"/rest/v1",this.headers={"Content-Type":"application/json",apikey:u.supabaseAnonKey,Authorization:"Bearer ".concat(u.supabaseAnonKey),Prefer:"return=representation"}}}let g=new h;var x=a(2818);let p=(()=>{var e,t;let a=void 0!==x&&(null===(e=x.env)||void 0===e?void 0:"http://localhost:3001/api")||(null===(t=window.__ENV__)||void 0===t?void 0:t.VITE_API_URL);if(a)return a;let s=window.location.hostname;return"localhost"===s||"127.0.0.1"===s?"http://localhost:3001/api":(s.includes("vercel.app")||s.includes("odmailsu")||window.location.protocol,"https://onward-dominicans-backend-v2.onrender.com/api")})(),b=()=>!0;class f{loadToken(){window.localStorage&&(this.token=localStorage.getItem("auth_token"))}saveToken(e){this.token=e,window.localStorage&&localStorage.setItem("auth_token",e)}removeToken(){this.token=null,window.localStorage&&localStorage.removeItem("auth_token")}validateAndClearToken(){console.log("\uD83E\uDDF9 Force clearing all stored tokens to prevent authentication issues"),this.removeToken(),window.localStorage&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("admin-token")),window.sessionStorage&&(sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"))}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="".concat(this.baseUrl).concat(e),r=t.method||"GET";if("GET"===r){let t=this.requestCache.get(s);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return console.log("\uD83C\uDFAF Using cached response for:",e),t.data}let l={"Content-Type":"application/json",...t.headers};a&&this.token&&(l.Authorization="Bearer ".concat(this.token));try{let e=await fetch(s,{...t,headers:l}),a=await e.json();if(!e.ok){var o;throw Error((null===(o=a.error)||void 0===o?void 0:o.message)||"HTTP ".concat(e.status))}return"GET"===r&&a.success&&this.requestCache.set(s,{data:a,timestamp:Date.now()}),a}catch(e){throw console.error("API request failed:",e),e}}async healthCheck(){if(b()){let e=await g.healthCheck();return{success:e.success,data:e,timestamp:e.timestamp}}return this.request("/health",{},!1)}async login(e,t){var a;let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})},!1);return s.success&&(null===(a=s.data)||void 0===a?void 0:a.token)&&this.saveToken(s.data.token),s}async register(e){var t;let a=await this.request("/auth/register",{method:"POST",body:JSON.stringify(e)});return a.success&&(null===(t=a.data)||void 0===t?void 0:t.token)&&this.saveToken(a.data.token),a}async getProfile(){return this.request("/auth/profile",{},!0)}logout(){this.removeToken()}async getArticles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(b()){let t=await g.getArticles({limit:e.limit,offset:((e.page||1)-1)*(e.limit||10),status:e.status});return t.error?{success:!1,error:{message:"Failed to fetch articles"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,s]=e;null!=s&&(Array.isArray(s)?t.append(a,s.join(",")):t.append(a,s.toString()))});let a=t.toString();return this.request("/articles".concat(a?"?".concat(a):""),{},!1)}async getArticle(e){return this.request("/articles/".concat(e),{},!1)}async createArticle(e){if(b()){let t=await g.createArticle(e);return t.error?{success:!1,error:{message:"Failed to create article"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/articles",{method:"POST",body:JSON.stringify(e)},!0)}async updateArticle(e,t){if(b()){let a=await g.updateArticle(e,t);return a.error?{success:!1,error:{message:"Failed to update article"},timestamp:new Date().toISOString()}:{success:!0,data:a.data,timestamp:new Date().toISOString()}}return this.request("/articles/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteArticle(e){if(b()){let t=await g.deleteArticle(e);return t.error?{success:!1,error:{message:"Failed to delete article"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/articles/".concat(e),{method:"DELETE"})}async getFeaturedArticle(){if(b()){let e=await g.getFeaturedArticle();return e.error?{success:!1,error:{message:"Failed to fetch featured article"},timestamp:new Date().toISOString()}:{success:!0,data:e.data,timestamp:new Date().toISOString()}}return this.request("/articles/featured/current",{},!1)}async setFeaturedArticle(e){return this.request("/articles/".concat(e,"/feature"),{method:"POST"})}async unsetFeaturedArticle(e){return this.request("/articles/".concat(e,"/feature"),{method:"DELETE"})}async getRelatedArticles(e){var t,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{limit:r=6,excludeIds:l=[]}=s,o=await this.getArticle(e);if(!o.success||!o.data)throw Error("Could not fetch current article for related articles");let i=o.data,n=[e,...l],c=[];if((null===(t=i.category)||void 0===t?void 0:t.id)&&c.length<r){let e=await this.getArticles({categoryId:i.category.id,status:"PUBLISHED",limit:2*r,sortBy:"publishedAt",sortOrder:"desc"});if(e.success&&e.data){let t=e.data.filter(e=>!n.includes(e.id));c.push(...t.slice(0,r))}}if(c.length<r&&i.tags&&i.tags.length>0){let e=i.tags.map(e=>e.name),t=await this.getArticles({tags:e,status:"PUBLISHED",limit:2*r,sortBy:"publishedAt",sortOrder:"desc"});if(t.success&&t.data){let e=new Set([...n,...c.map(e=>e.id)]),a=t.data.filter(t=>!e.has(t.id)),s=r-c.length;c.push(...a.slice(0,s))}}if(c.length<r&&(null===(a=i.author)||void 0===a?void 0:a.id)){let e=await this.getArticles({authorId:i.author.id,status:"PUBLISHED",limit:r,sortBy:"publishedAt",sortOrder:"desc"});if(e.success&&e.data){let t=new Set([...n,...c.map(e=>e.id)]),a=e.data.filter(e=>!t.has(e.id)),s=r-c.length;c.push(...a.slice(0,s))}}return{success:!0,data:c.slice(0,r),timestamp:new Date().toISOString()}}async getAuthors(){if(b()){let e=await g.getAuthors();return e.error?{success:!1,error:{message:"Failed to fetch authors"},timestamp:new Date().toISOString()}:{success:!0,data:e.data,timestamp:new Date().toISOString()}}return this.request("/authors",{},!1)}async getGalleryItems(e){if(b()){let t=await g.getGalleryItems(e);return t.error?{success:!1,error:{message:"Failed to fetch gallery items"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}let t=e?"/gallery?categoryId=".concat(e):"/gallery";return this.request(t,{},!1)}async getGalleryCategories(){if(b()){let e=await g.getGalleryCategories();return e.error?{success:!1,error:{message:"Failed to fetch gallery categories"},timestamp:new Date().toISOString()}:{success:!0,data:e.data,timestamp:new Date().toISOString()}}return this.request("/gallery-categories",{},!1)}async getAuthor(e){return this.request("/authors/".concat(e),{},!1)}async createAuthor(e){if(b()){let t=await g.createAuthor(e);return t.error?{success:!1,error:{message:"Failed to create author"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/authors",{method:"POST",body:JSON.stringify(e)})}async updateAuthor(e,t){if(b()){console.log("Updating author via Supabase:",e,t);let a=await g.updateAuthor(e,t);return(console.log("Supabase update result:",a),a.error)?(console.error("Supabase update error:",a.error),{success:!1,error:{message:a.error.message||"Failed to update author"},timestamp:new Date().toISOString()}):{success:!0,data:a.data,timestamp:new Date().toISOString()}}return this.request("/authors/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteAuthor(e){if(b()){let t=await g.deleteAuthor(e);return t.error?{success:!1,error:{message:"Failed to delete author"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/authors/".concat(e),{method:"DELETE"})}async getCategories(){if(b()){let e=await g.getCategories();return e.error?{success:!1,error:{message:"Failed to fetch categories"},timestamp:new Date().toISOString()}:{success:!0,data:e.data,timestamp:new Date().toISOString()}}return this.request("/categories")}async getCategory(e){return this.request("/categories/".concat(e))}async createCategory(e){if(b()){let t=await g.createCategory(e);return t.error?{success:!1,error:{message:"Failed to create category"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){if(b()){let a=await g.updateCategory(e,t);return a.error?{success:!1,error:{message:"Failed to update category"},timestamp:new Date().toISOString()}:{success:!0,data:a.data,timestamp:new Date().toISOString()}}return this.request("/categories/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteCategory(e){if(b()){let t=await g.deleteCategory(e);return t.error?{success:!1,error:{message:"Failed to delete category"},timestamp:new Date().toISOString()}:{success:!0,data:t.data,timestamp:new Date().toISOString()}}return this.request("/categories/".concat(e),{method:"DELETE"})}async getTags(){return this.request("/tags")}async askAI(e){return this.request("/ai/ask",{method:"POST",body:JSON.stringify({question:e})})}async generateSummary(e){return this.request("/ai/summarize",{method:"POST",body:JSON.stringify({content:e})})}async getAIStatus(){return this.request("/ai/status")}isAuthenticated(){return!!this.token}getToken(){return this.token}constructor(e=p){this.token=null,this.requestCache=new Map,this.CACHE_DURATION=3e4,this.baseUrl=e,this.loadToken(),this.validateAndClearToken()}}let v=new f;var y=function(e){return e.DATE_DESC="date-desc",e.DATE_ASC="date-asc",e.TITLE_ASC="title-asc",e.TITLE_DESC="title-desc",e}(y||{});let w={"date-desc":"Sort by Date (Newest First)","date-asc":"Sort by Date (Oldest First)","title-asc":"Sort by Title (A-Z)","title-desc":"Sort by Title (Z-A)"},k=(0,r.forwardRef)((e,t)=>{let{searchTerm:a,activeCategory:l,onCategoryChange:o,onSearchChange:i}=e,n=t||(0,r.useRef)(null),[c,d]=(0,r.useState)("date-desc"),[m,u]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),y=async()=>{try{g(!0),p(null),console.log("\uD83D\uDD04 Loading articles from backend API...");let t=await v.getArticles({status:"PUBLISHED",limit:50,sortBy:"publishedAt",sortOrder:"desc"});if(t.success&&t.data){let e=t.data.map(e=>{var t,a,s,r,l;return{id:e.id,title:e.title,date:new Date(e.publishedAt||e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),summary:e.summary,imageUrl:e.imageUrl||void 0,category:(null===(t=e.category)||void 0===t?void 0:t.name)||"General",author:{name:(null===(a=e.author)||void 0===a?void 0:a.name)||"Unknown Author",avatarUrl:(null===(s=e.author)||void 0===s?void 0:s.avatarUrl)||void 0,bio:(null===(r=e.author)||void 0===r?void 0:r.bio)||""},fullContent:e.content,slug:e.slug,tags:(null===(l=e.tags)||void 0===l?void 0:l.map(e=>e.name))||[]}});u(e),f(new Date),console.log("✅ Loaded ".concat(e.length," articles from backend"))}else{var e;throw Error((null===(e=t.error)||void 0===e?void 0:e.message)||"Failed to load articles")}}catch(e){console.error("❌ Error loading articles:",e),p(e instanceof Error?e.message:"Failed to load articles"),u([])}finally{g(!1)}};(0,r.useEffect)(()=>{y();let e=setInterval(()=>{console.log("\uD83D\uDD04 Auto-refreshing articles..."),y()},3e5);return()=>clearInterval(e)},[]);let k=(0,r.useMemo)(()=>{let e=new Set;return m.forEach(t=>{t.category&&e.add(t.category)}),Array.from(e).sort()},[m]),j=(0,r.useMemo)(()=>{let e=m;if(l&&(e=e.filter(e=>e.category===l)),a){let t=a.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.summary.toLowerCase().includes(t)||e.author&&e.author.name.toLowerCase().includes(t))}let t=[...e];switch(c){case"date-asc":t.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());break;case"title-asc":t.sort((e,t)=>e.title.localeCompare(t.title));break;case"title-desc":t.sort((e,t)=>t.title.localeCompare(e.title));break;default:t.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}return t},[m,l,a,c]),N="Latest News & Stories";return l&&a?N='Search results for "'.concat(a,'" in ').concat(l):l?N="".concat(l," News"):a&&(N='Search results for "'.concat(a,'"')),(0,s.jsx)("section",{ref:n,id:e.id,className:"py-16 md:py-24 bg-slate-100 dark:bg-slate-800 ".concat(e.className||""),"aria-labelledby":"news-feed-heading",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{id:"news-feed-heading",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100",children:N}),b&&(0,s.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:["Last updated: ",b.toLocaleTimeString()]})]}),(0,s.jsxs)("div",{className:"mb-10 space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 text-sm font-medium rounded-full transition-colors duration-150\n                ".concat(null===l?"bg-yellow-500 text-slate-900 dark:bg-yellow-400 dark:text-slate-900":"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600","\n              "),"aria-pressed":null===l,children:"All Categories"}),k.map(e=>(0,s.jsx)("button",{onClick:()=>o(e),className:"px-4 py-2 text-sm font-medium rounded-full transition-colors duration-150\n                  ".concat(l===e?"bg-yellow-500 text-slate-900 dark:bg-yellow-400 dark:text-slate-900":"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600","\n                "),"aria-pressed":l===e,children:e},e))]}),(0,s.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,s.jsxs)("div",{className:"w-full sm:w-auto sm:max-w-xs",children:[(0,s.jsx)("label",{htmlFor:"sort-order",className:"sr-only",children:"Sort Articles By"}),(0,s.jsx)("select",{id:"sort-order",value:c,onChange:e=>{d(e.target.value)},className:"block w-full px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600 dark:focus:ring-yellow-400 dark:focus:border-yellow-400 transition-colors duration-150",children:Object.entries(w).map(e=>{let[t,a]=e;return(0,s.jsx)("option",{value:t,children:a},t)})})]}),(0,s.jsxs)("button",{onClick:()=>y(),disabled:h,className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-300 text-white rounded-full transition-colors flex items-center space-x-2 text-sm font-medium shadow-sm",title:"Refresh articles",children:[(0,s.jsx)("svg",{className:"w-4 h-4 ".concat(h?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),h?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"}),(0,s.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Loading articles..."})]}):x?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error loading articles: ",x]}),(0,s.jsx)("button",{onClick:()=>y(),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:"Retry"})]}):j.length>0?(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map(t=>(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-lg shadow-xl dark:shadow-slate-900/50 overflow-hidden flex flex-col transform transition-all duration-300 hover:shadow-2xl dark:hover:shadow-slate-900/70 hover:scale-[1.02]",children:[(0,s.jsx)("img",{src:t.imageUrl||"https://picsum.photos/seed/".concat(t.id,"/400/250"),alt:t.title,className:"w-full h-52 object-cover cursor-pointer",onClick:()=>e.onReadMoreClick(t),loading:"lazy"}),(0,s.jsxs)("div",{className:"p-6 flex flex-col flex-grow",children:[t.category&&(0,s.jsx)("p",{className:"text-xs font-semibold text-yellow-600 dark:text-yellow-400 uppercase tracking-wider mb-1",children:t.category}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-700 dark:text-slate-100 mb-2 cursor-pointer hover:text-yellow-700 dark:hover:text-yellow-400",onClick:()=>e.onReadMoreClick(t),children:t.title}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["By ",(0,s.jsx)("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:t.author.name})," | ",t.date]}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4 flex-grow line-clamp-3",children:t.summary}),(0,s.jsx)("button",{onClick:()=>e.onReadMoreClick(t),className:"mt-auto text-sm text-yellow-700 dark:text-yellow-400 hover:text-yellow-600 dark:hover:text-yellow-300 font-semibold self-start hover:underline focus:outline-none","aria-label":"Read more about ".concat(t.title),children:"Read More →"})]})]},t.id))}):(0,s.jsx)("p",{className:"text-center text-slate-600 dark:text-slate-300 text-lg py-10 bg-white dark:bg-slate-700 rounded-md shadow",children:0===m.length?"No articles available.":"No articles found matching your criteria."}),(l||a||"date-desc"!==c)&&(0,s.jsx)("div",{className:"text-center mt-16",children:(0,s.jsx)("button",{onClick:()=>{o(null),i(""),d("date-desc"),n&&"current"in n&&n.current&&n.current.scrollIntoView({behavior:"smooth",block:"start"})},className:"inline-block px-8 py-3 bg-slate-700 text-white dark:bg-slate-600 dark:text-slate-100 font-semibold rounded-lg shadow-md hover:bg-slate-600 dark:hover:bg-slate-500 transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-slate-500 dark:focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-100 dark:focus:ring-offset-slate-800",children:"Clear Filters & Reset Sort"})})]})})});var j=a(3);let N=e=>{let{message:t}=e;return t?(0,s.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 dark:bg-red-900/30 dark:border-red-700 dark:text-red-300 p-4 my-4 rounded-md shadow-md",role:"alert",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"py-1",children:(0,s.jsx)("svg",{className:"fill-current h-6 w-6 text-red-500 dark:text-red-400 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v4a1 1 0 102 0V5zm-1 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Error"}),(0,s.jsx)("p",{className:"text-sm",children:t})]})]})}):null},A=(0,r.forwardRef)((e,t)=>{let[a,l]=(0,r.useState)([]),[o,i]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[g,x]=(0,r.useState)("all"),[p,b]=(0,r.useState)(""),[f,y]=(0,r.useState)("stacks"),w=e=>{let t=new Map,a=[];e.forEach(e=>{e.stackGroup?(t.has(e.stackGroup)||t.set(e.stackGroup,[]),t.get(e.stackGroup).push(e)):a.push(e)});let s=[];return t.forEach((e,t)=>{e.sort((e,t)=>(e.stackOrder||0)-(t.stackOrder||0));let a=e.find(e=>e.isStackCover)||e[0];s.push({id:t,coverImage:a,images:e,count:e.length,category:a.category})}),a.forEach(e=>{s.push({id:e.id,coverImage:e,images:[e],count:1,category:e.category})}),s},k=[{id:"1",title:"Campus Life - Student Activities",description:"Students participating in various campus activities",imageUrl:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"1",category:{id:"1",name:"Campus Life",slug:"campus-life",color:"#3B82F6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"John Doe",location:"Main Campus",isActive:!0,createdAt:"2024-01-15",updatedAt:"2024-01-15",stackGroup:"campus-life-event-1",stackOrder:1,isStackCover:!0},{id:"1b",title:"Campus Life - More Activities",description:"Additional photos from the same event",imageUrl:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"1",category:{id:"1",name:"Campus Life",slug:"campus-life",color:"#3B82F6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"John Doe",location:"Main Campus",isActive:!0,createdAt:"2024-01-15",updatedAt:"2024-01-15",stackGroup:"campus-life-event-1",stackOrder:2,isStackCover:!1},{id:"1c",title:"Campus Life - Group Photo",description:"Group photo from the campus event",imageUrl:"https://images.unsplash.com/photo-1529390079861-591de354faf5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1529390079861-591de354faf5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"1",category:{id:"1",name:"Campus Life",slug:"campus-life",color:"#3B82F6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"John Doe",location:"Main Campus",isActive:!0,createdAt:"2024-01-15",updatedAt:"2024-01-15",stackGroup:"campus-life-event-1",stackOrder:3,isStackCover:!1},{id:"2",title:"Academic Excellence",description:"Students in the library studying",imageUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"2",category:{id:"2",name:"Academics",slug:"academics",color:"#10B981",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"Jane Smith",location:"Library",isActive:!0,createdAt:"2024-01-10",updatedAt:"2024-01-10"},{id:"3",title:"Sports Championship",description:"Basketball team celebrating victory",imageUrl:"https://images.unsplash.com/photo-1546519638-68e109498ffc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1546519638-68e109498ffc?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"3",category:{id:"3",name:"Sports",slug:"sports",color:"#F59E0B",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"Mike Johnson",location:"Gymnasium",isActive:!0,createdAt:"2024-01-20",updatedAt:"2024-01-20"},{id:"4",title:"Graduation Ceremony",description:"Class of 2024 graduation celebration",imageUrl:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"4",category:{id:"4",name:"Events",slug:"events",color:"#8B5CF6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"Sarah Wilson",location:"Auditorium",isActive:!0,createdAt:"2024-01-25",updatedAt:"2024-01-25"},{id:"5",title:"Science Laboratory",description:"Students conducting chemistry experiments",imageUrl:"https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"2",category:{id:"2",name:"Academics",slug:"academics",color:"#10B981",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"Dr. Brown",location:"Science Building",isActive:!0,createdAt:"2024-01-12",updatedAt:"2024-01-12"},{id:"6",title:"Art Exhibition",description:"Student artwork display in the gallery",imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",thumbnailUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",categoryId:"4",category:{id:"4",name:"Events",slug:"events",color:"#8B5CF6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},photographer:"Art Department",location:"Art Gallery",isActive:!0,createdAt:"2024-01-18",updatedAt:"2024-01-18"}],A=[{id:"1",name:"Campus Life",slug:"campus-life",color:"#3B82F6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"2",name:"Academics",slug:"academics",color:"#10B981",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"3",name:"Sports",slug:"sports",color:"#F59E0B",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"4",name:"Events",slug:"events",color:"#8B5CF6",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"}];(0,r.useEffect)(()=>{(async()=>{try{m(!0),h(null);try{let[e,t]=await Promise.all([v.getGalleryItems(),v.getGalleryCategories()]);if(e.success&&t.success&&e.success&&t.success){let a=e.data.map(e=>({id:e.id,title:e.title,description:e.description,imageUrl:e.imageUrl,thumbnailUrl:e.thumbnailUrl,category:e.category?{id:e.category.id,name:e.category.name,slug:e.category.slug,color:e.category.color,isActive:!0,createdAt:e.category.createdAt||e.createdAt,updatedAt:e.category.updatedAt||e.updatedAt}:void 0,categoryId:e.categoryId,photographer:e.photographer,location:e.location,dateTaken:e.dateTaken,isActive:e.isActive,createdAt:e.createdAt,updatedAt:e.updatedAt,stackGroup:e.stackGroup,stackOrder:e.stackOrder||0,isStackCover:e.isStackCover||!1})),s=t.data.map(e=>({id:e.id,name:e.name,slug:e.slug,description:e.description,color:e.color,isActive:e.isActive,createdAt:e.createdAt,updatedAt:e.updatedAt}));l(a),i(s),c(w(a)),console.log("✅ Loaded gallery data from API");return}}catch(e){console.log("⚠️ API not available, using sample data")}await new Promise(e=>setTimeout(e,500)),l(k),i(A),c(w(k)),console.log("\uD83D\uDCDD Using sample gallery data")}catch(e){h("Failed to load gallery data"),console.error("Gallery loading error:",e)}finally{m(!1)}})()},[]);let S=a.filter(e=>{var t,a;let s="all"===g||e.categoryId===g,r=""===p||e.title.toLowerCase().includes(p.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.photographer)||void 0===a?void 0:a.toLowerCase().includes(p.toLowerCase()));return s&&r}),C=n.filter(e=>{let t="all"===g||e.coverImage.categoryId===g,a=""===p||e.images.some(e=>{var t,a;return e.title.toLowerCase().includes(p.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.photographer)||void 0===a?void 0:a.toLowerCase().includes(p.toLowerCase()))});return t&&a}),E=(t,a)=>{e.onImageClick&&e.onImageClick(t,a||S)},I=t=>{e.onStackClick?e.onStackClick(t):E(t.coverImage,t.images)};return d?(0,s.jsx)("section",{ref:t,id:e.id,className:"py-16 md:py-24 bg-slate-50 dark:bg-slate-800 ".concat(e.className||""),children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(j.A,{})})})}):u?(0,s.jsx)("section",{ref:t,id:e.id,className:"py-16 md:py-24 bg-slate-50 dark:bg-slate-800 ".concat(e.className||""),children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)(N,{message:u})})}):(0,s.jsx)("section",{ref:t,id:e.id,className:"py-16 md:py-24 bg-slate-50 dark:bg-slate-800 ".concat(e.className||""),"aria-labelledby":"gallery-heading",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{id:"gallery-heading",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100 mb-4",children:"Photo Gallery"}),(0,s.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Explore moments and memories from our vibrant campus community"})]}),(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search photos...",value:p,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[(0,s.jsxs)("button",{onClick:()=>y("stacks"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat("stacks"===f?"bg-white dark:bg-slate-600 text-slate-900 dark:text-slate-100 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"),children:[(0,s.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7H5m14 14H5"})}),"Stacks"]}),(0,s.jsxs)("button",{onClick:()=>y("grid"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat("grid"===f?"bg-white dark:bg-slate-600 text-slate-900 dark:text-slate-100 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"),children:[(0,s.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Grid"]})]}),(0,s.jsxs)("button",{onClick:()=>{e.onSlideshowStart&&e.onSlideshowStart(S)},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",disabled:0===S.length,children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m6-10V4a2 2 0 00-2-2H5a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2V4z"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Slideshow"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("button",{onClick:()=>x("all"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("all"===g?"bg-blue-600 text-white":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600"),children:"All Photos"}),o.map(e=>(0,s.jsx)("button",{onClick:()=>x(e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(g===e.id?"text-white":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600"),style:{backgroundColor:g===e.id?e.color:void 0},children:e.name},e.id))]})]}),("stacks"===f?C:S).length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:"stacks"===f?C.map(e=>(0,s.jsxs)("div",{className:"group relative bg-white dark:bg-slate-700 rounded-lg shadow-lg dark:shadow-slate-900/50 overflow-hidden transform transition-all duration-300 hover:shadow-xl dark:hover:shadow-slate-900/70 hover:scale-[1.02] cursor-pointer",onClick:()=>I(e),children:[(0,s.jsxs)("div",{className:"aspect-w-4 aspect-h-3 relative",children:[e.count>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-slate-600 rounded-lg transform rotate-2 translate-x-1 translate-y-1 z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-slate-650 rounded-lg transform rotate-1 translate-x-0.5 translate-y-0.5 z-10"})]}),(0,s.jsx)("img",{src:e.coverImage.thumbnailUrl||e.coverImage.imageUrl,alt:e.coverImage.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300 relative z-20 rounded-lg",loading:"lazy"}),e.count>1&&(0,s.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded-full z-30",children:[e.count," photos"]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center z-30",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,s.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.count>1&&(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7H5m14 14H5"})})]})})]}),(0,s.jsxs)("div",{className:"p-4 relative z-20",children:[(0,s.jsxs)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 mb-1 line-clamp-2",children:[e.coverImage.title,e.count>1&&(0,s.jsxs)("span",{className:"text-slate-500 dark:text-slate-400 font-normal",children:[" & ",e.count-1," more"]})]}),e.coverImage.category&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium text-white rounded-full mb-2",style:{backgroundColor:e.coverImage.category.color},children:e.coverImage.category.name}),e.coverImage.description&&(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.coverImage.description}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-500 space-y-1",children:[e.coverImage.photographer&&(0,s.jsxs)("p",{children:["\uD83D\uDCF8 ",e.coverImage.photographer]}),e.coverImage.location&&(0,s.jsxs)("p",{children:["\uD83D\uDCCD ",e.coverImage.location]})]})]})]},e.id)):S.map(e=>(0,s.jsxs)("div",{className:"group relative bg-white dark:bg-slate-700 rounded-lg shadow-lg dark:shadow-slate-900/50 overflow-hidden transform transition-all duration-300 hover:shadow-xl dark:hover:shadow-slate-900/70 hover:scale-[1.02] cursor-pointer",onClick:()=>E(e),children:[(0,s.jsxs)("div",{className:"aspect-w-4 aspect-h-3 relative",children:[(0,s.jsx)("img",{src:e.thumbnailUrl||e.imageUrl,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 mb-1 line-clamp-2",children:e.title}),e.category&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium text-white rounded-full mb-2",style:{backgroundColor:e.category.color},children:e.category.name}),e.description&&(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.description}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-500 space-y-1",children:[e.photographer&&(0,s.jsxs)("p",{children:["\uD83D\uDCF8 ",e.photographer]}),e.location&&(0,s.jsxs)("p",{children:["\uD83D\uDCCD ",e.location]})]})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No photos found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:p||"all"!==g?"Try adjusting your search or filter criteria.":"Photos will appear here once they are added."})]})]})})});A.displayName="GallerySection";let S=(0,r.forwardRef)((e,t)=>{let[a,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{i(!0),d(null),console.log("\uD83D\uDD04 Loading authors from backend...");let t=await v.getAuthors({limit:20,sortBy:"name",sortOrder:"asc"});if(t.success&&t.data){let e=t.data.map(e=>({name:e.name,avatarUrl:e.avatarUrl||void 0,bio:e.bio||"Dedicated journalist contributing to our publication.",articleCount:e.articleCount||0}));l(e),console.log("✅ Loaded ".concat(e.length," authors from backend"))}else{var e;throw Error((null===(e=t.error)||void 0===e?void 0:e.message)||"Failed to load authors")}}catch(e){console.error("❌ Error loading authors:",e),d(e instanceof Error?e.message:"Failed to load authors"),l([])}finally{i(!1)}})()},[]),(0,s.jsx)("section",{ref:t,id:e.id||n.PN.MEET_THE_TEAM,className:"py-16 md:py-24 bg-white dark:bg-slate-900 ".concat(e.className||""),"aria-labelledby":"meet-the-team-heading",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("h2",{id:"meet-the-team-heading",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100 text-center mb-16",children:["Meet Our Team at ",n.lU]}),o?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mb-4"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading our team..."})]}):c?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error loading team: ",c]}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:"Retry"})]}):a.length>0?(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-10",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl shadow-lg dark:shadow-slate-900/50 p-6 text-center flex flex-col items-center transform transition-all duration-300 hover:shadow-2xl dark:hover:shadow-slate-900/70 hover:-translate-y-1",children:[(0,s.jsx)("img",{src:e.avatarUrl||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(e.name),"&background=random&color=fff&size=128"),alt:"Photo of ".concat(e.name),className:"w-32 h-32 rounded-full mb-5 object-cover shadow-md border-4 border-white dark:border-slate-700"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-700 dark:text-slate-100 mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed min-h-[60px]",children:e.bio||"Dedicated journalist contributing to our publication."}),(0,s.jsx)("div",{className:"mt-3 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat((e.articleCount||0)>0?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"),children:["\uD83D\uDCDD ",e.articleCount||0," article",1!==(e.articleCount||0)?"s":""]})})]},e.name+t))}):(0,s.jsx)("p",{className:"text-center text-slate-600 dark:text-slate-300 text-lg",children:"Information about our talented team of journalists will be available soon."})]})})}),C=async e=>{if(!e||0===e.trim().length)throw Error("Question cannot be empty.");try{var t,a;let s=await v.askAI(e.trim());if(!s.success)throw Error((null===(a=s.error)||void 0===a?void 0:a.message)||"AI service request failed");if(!(null===(t=s.data)||void 0===t?void 0:t.answer))throw Error("AI service returned empty response");return s.data.answer}catch(e){if(console.error("Error fetching AI editor response:",e),e instanceof Error)throw Error("AI editor service failed to respond: ".concat(e.message));throw Error("An unknown error occurred while contacting the AI editor service.")}},E=async e=>{if(!e||0===e.trim().length)throw Error("Article content cannot be empty.");try{var t,a;let s=await v.generateSummary(e.trim());if(!s.success)throw Error((null===(a=s.error)||void 0===a?void 0:a.message)||"AI service request failed");if(!(null===(t=s.data)||void 0===t?void 0:t.summary))throw Error("AI service returned empty response");return s.data.summary}catch(e){if(console.error("Error fetching AI summary:",e),e instanceof Error)throw Error("AI summary service failed to respond: ".concat(e.message));throw Error("An unknown error occurred while contacting the AI summary service.")}},I=(0,r.forwardRef)((e,t)=>{let[a,l]=(0,r.useState)({name:"",email:"",subject:"",message:""}),[o,i]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(""),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),w=e=>{let{name:t,value:a}=e.target;l(e=>({...e,[t]:a})),o[t]&&i(e=>({...e,[t]:void 0})),u(!1)},k=()=>{let e={};return a.name.trim()||(e.name="Full name is required."),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(e.email="Email address is invalid."):e.email="Email address is required.",a.subject.trim()||(e.subject="Subject is required."),a.message.trim()?a.message.trim().length<10&&(e.message="Message should be at least 10 characters long."):e.message="Message is required.",i(e),0===Object.keys(e).length},A=async e=>{e.preventDefault(),u(!1),k()&&(d(!0),await new Promise(e=>setTimeout(e,1500)),d(!1),u(!0),l({name:"",email:"",subject:"",message:""}),i({}))},S=async e=>{if(e.preventDefault(),!h.trim()){y("Please enter a question.");return}f(!0),p(null),y(null);try{let e=await C(h);p(e)}catch(e){e instanceof Error?y(e.message):y("An unexpected error occurred.")}finally{f(!1)}},E="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm",I="border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:ring-yellow-500 focus:border-yellow-500 dark:focus:ring-yellow-400 dark:focus:border-yellow-400",L="border-red-500 dark:border-red-400 focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-400 dark:focus:border-red-400",T="block text-sm font-medium text-slate-600 dark:text-slate-300";return(0,s.jsx)("section",{ref:t,id:e.id,className:"py-16 md:py-24 bg-white dark:bg-slate-900 ".concat(e.className||""),"aria-labelledby":"contact-publication-heading",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("h2",{id:"contact-publication-heading",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100 text-center mb-12",children:"Contact Us"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 md:p-8 rounded-lg shadow-lg dark:shadow-slate-900/50",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-slate-100 mb-6",children:"Send a Message to the Editors"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Have a news tip, story idea, or feedback on our publication? We'd love to hear from you."}),(0,s.jsxs)("form",{onSubmit:A,className:"space-y-4",noValidate:!0,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:T,children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"name",id:"name",value:a.name,onChange:w,className:"".concat(E," ").concat(o.name?L:I),"aria-invalid":!!o.name,"aria-describedby":o.name?"name-error":void 0}),o.name&&(0,s.jsx)("p",{id:"name-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",children:o.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:T,children:"Email Address"}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",value:a.email,onChange:w,className:"".concat(E," ").concat(o.email?L:I),"aria-invalid":!!o.email,"aria-describedby":o.email?"email-error":void 0}),o.email&&(0,s.jsx)("p",{id:"email-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",children:o.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"subject",className:T,children:"Subject"}),(0,s.jsx)("input",{type:"text",name:"subject",id:"subject",value:a.subject,onChange:w,className:"".concat(E," ").concat(o.subject?L:I),"aria-invalid":!!o.subject,"aria-describedby":o.subject?"subject-error":void 0}),o.subject&&(0,s.jsx)("p",{id:"subject-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",children:o.subject})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"message",className:T,children:"Message"}),(0,s.jsx)("textarea",{name:"message",id:"message",rows:5,value:a.message,onChange:w,className:"".concat(E," ").concat(o.message?L:I),"aria-invalid":!!o.message,"aria-describedby":o.message?"message-error":void 0}),o.message&&(0,s.jsx)("p",{id:"message-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",children:o.message})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg shadow-md hover:bg-yellow-400 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:text-slate-900 transition-colors duration-300 disabled:opacity-70 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Message"})}),m&&(0,s.jsx)("p",{className:"text-sm text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/50 p-3 rounded-md border border-green-300 dark:border-green-700 text-center",children:"Thank you! Your message has been sent to our editorial team."})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 md:p-8 rounded-lg shadow-lg dark:shadow-slate-900/50",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-slate-100 mb-4",children:"Quick Answers from Our AI Assistant"}),(0,s.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-6",children:["Have a quick question about ",n.lU,"? Ask our AI assistant!"]}),(0,s.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"ai-question",className:T,children:"Your Question"}),(0,s.jsx)("input",{type:"text",id:"ai-question",name:"ai-question",value:h,onChange:e=>{g(e.target.value),p(null),y(null)},className:"".concat(E," ").concat(I),placeholder:"e.g., How do I submit a story idea?","aria-describedby":"ai-response-area"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:b,className:"w-full px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg shadow-md hover:bg-yellow-400 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:text-slate-900 transition-colors duration-300 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Thinking...":"Ask AI Assistant"})})]}),(0,s.jsxs)("div",{id:"ai-response-area","aria-live":"polite",className:"mt-6",children:[b&&(0,s.jsx)(j.A,{}),v&&(0,s.jsx)(N,{message:v}),x&&!b&&!v&&(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-700 p-4 rounded-md shadow border border-slate-200 dark:border-slate-600",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-100 mb-2",children:"AI Assistant says:"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 whitespace-pre-wrap",children:x})]})]})]}),(0,s.jsxs)("div",{className:"text-slate-700 dark:text-slate-300 space-y-4 mt-8",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-slate-100 mb-2",children:"Editorial Office"}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:n.lU})}),(0,s.jsx)("p",{children:"For general inquiries, corrections, or to reach our editorial staff, please use the form or contact us via email."}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"mailto:".concat(n.tS),className:"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-500 hover:underline",children:n.tS})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Mailing Address (Example):"}),(0,s.jsx)("br",{}),"P.O. Box 123, News City, NC 45678"]}),(0,s.jsx)("p",{className:"text-sm mt-4",children:"We value your readership and input. For advertising inquiries, please direct your email to ads@onwarddominicans.news (example)."})]})]})]})]})})});var L=a(2509),T=a(8927);let D=e=>{let{articleUrl:t,articleTitle:a}=e,r=encodeURIComponent(t),l=encodeURIComponent(a),o=[{name:"Facebook",url:"https://www.facebook.com/sharer/sharer.php?u=".concat(r),icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),bgColor:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600"},{name:"Twitter",url:"https://twitter.com/intent/tweet?url=".concat(r,"&text=").concat(l),icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}),bgColor:"bg-sky-500 hover:bg-sky-600 dark:bg-sky-400 dark:hover:bg-sky-500"},{name:"LinkedIn",url:"https://www.linkedin.com/shareArticle?mini=true&url=".concat(r,"&title=").concat(l),icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),bgColor:"bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700"},{name:"Email",url:"mailto:?subject=".concat(l,"&body=Check out this article: ").concat(r),icon:(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[(0,s.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,s.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),bgColor:"bg-slate-500 hover:bg-slate-600 dark:bg-slate-400 dark:hover:bg-slate-500"}];return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Share this article:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-4 py-2 text-white text-xs font-medium rounded-md shadow-sm transition-colors duration-150 ".concat(e.bgColor),"aria-label":"Share on ".concat(e.name),children:[e.icon,(0,s.jsx)("span",{className:"ml-2 hidden sm:inline",children:e.name})]},e.name))})]})},U=e=>{let{isOpen:t,onClose:a,article:l,onSelectArticleToOpen:o}=e,[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[m,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)([]),[y,w]=(0,r.useState)(!1),[k,A]=(0,r.useState)(null),S=async e=>{if(null==e?void 0:e.id)try{w(!0),A(null),console.log("\uD83D\uDD04 Loading related articles for:",e.title);let a=await v.getRelatedArticles(e.id,{limit:3});if(a.success&&a.data){let e=a.data.map(e=>{var t,a,s,r,l;return{id:e.id,title:e.title,date:new Date(e.publishedAt||e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),summary:e.summary,imageUrl:e.imageUrl||void 0,category:(null===(t=e.category)||void 0===t?void 0:t.name)||"General",author:{name:(null===(a=e.author)||void 0===a?void 0:a.name)||"Unknown Author",avatarUrl:(null===(s=e.author)||void 0===s?void 0:s.avatarUrl)||void 0,bio:(null===(r=e.author)||void 0===r?void 0:r.bio)||""},fullContent:e.content,slug:e.slug,tags:(null===(l=e.tags)||void 0===l?void 0:l.map(e=>e.name))||[]}});f(e),console.log("✅ Loaded ".concat(e.length," related articles"))}else{var t;throw Error((null===(t=a.error)||void 0===t?void 0:t.message)||"Failed to load related articles")}}catch(e){console.error("❌ Error loading related articles:",e),A(e instanceof Error?e.message:"Failed to load related articles"),f([])}finally{w(!1)}};if((0,r.useEffect)(()=>{if(t&&l){document.body.style.overflow="hidden";let e=setTimeout(()=>n(!0),50);d(l.slug?"".concat(window.location.origin,"/news/").concat(l.slug):window.location.href),u(null),g(!1),p(null),f([]),A(null),S(l);let t=document.querySelector(".news-article-modal-scrollable-content");return t&&(t.scrollTop=0),()=>{clearTimeout(e)}}n(!1),document.body.style.overflow=""},[t,l]),!t||!l)return null;let C=async()=>{if(!(null==l?void 0:l.fullContent)){p("Article content is missing.");return}g(!0),u(null),p(null);try{let e=await E(l.fullContent);u(e)}catch(e){e instanceof Error?p(e.message):p("An unexpected error occurred while generating the summary.")}finally{g(!1)}},I=e=>{o(e)};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 dark:bg-opacity-80 flex justify-center items-start p-0 md:p-4 z-[60] overflow-y-auto news-article-modal-scrollable-content",onClick:a,role:"dialog","aria-modal":"true","aria-labelledby":"news-article-title",children:(0,s.jsxs)("div",{className:"\n          bg-white dark:bg-slate-800 rounded-none md:rounded-lg shadow-xl p-6 md:p-8 w-full max-w-3xl my-0 md:my-8 relative\n          transform transition-all duration-300 ease-out text-slate-700 dark:text-slate-200 min-h-screen md:min-h-0\n          ".concat(i?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 -translate-y-[20px]","\n        "),onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 transition-colors text-3xl z-10","aria-label":"Close article",children:"\xd7"}),(0,s.jsxs)("article",{children:[(0,s.jsxs)("header",{className:"mb-6 border-b border-slate-200 dark:border-slate-700 pb-4",children:[l.category&&(0,s.jsx)("p",{className:"text-sm font-semibold text-yellow-600 dark:text-yellow-400 uppercase tracking-wider mb-1",children:l.category}),(0,s.jsx)("h1",{id:"news-article-title",className:"text-3xl sm:text-4xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:l.title}),(0,s.jsxs)("div",{className:"mt-3 flex items-center text-sm text-slate-500 dark:text-slate-400",children:[l.author.avatarUrl&&(0,s.jsx)("img",{src:l.author.avatarUrl,alt:l.author.name,className:"w-8 h-8 rounded-full mr-2 object-cover"}),(0,s.jsxs)("span",{children:["By ",(0,s.jsx)("strong",{className:"text-slate-700 dark:text-slate-200",children:l.author.name})]}),(0,s.jsx)("span",{className:"mx-2",children:"|"}),(0,s.jsx)("span",{children:l.date})]})]}),l.imageUrl&&(0,s.jsx)("img",{src:l.imageUrl,alt:l.title,className:"w-full h-auto max-h-[50vh] object-cover rounded-lg mb-6 shadow-md"}),(0,s.jsx)("div",{className:"prose prose-lg prose-slate dark:prose-invert max-w-none",children:l.fullContent.split("\n").map((e,t)=>e.trim()?(0,s.jsx)("p",{className:"mb-4 last:mb-0",children:e},t):null)}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-100 mb-3",children:"Need a Quick Overview?"}),(0,s.jsx)("button",{onClick:C,disabled:h||!!m,className:"px-6 py-2 bg-yellow-500 text-slate-900 font-semibold rounded-md shadow-sm hover:bg-yellow-400 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:text-slate-900 transition-colors duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Generating Summary...":m?"Summary Generated":"Get AI Summary (TL;DR)"}),(0,s.jsxs)("div",{id:"ai-summary-response-area","aria-live":"polite",className:"mt-4",children:[h&&(0,s.jsx)(j.A,{}),x&&(0,s.jsx)(N,{message:x}),m&&!h&&!x&&(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-md shadow border border-slate-200 dark:border-slate-600",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-100 mb-2",children:"AI Generated Summary:"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 whitespace-pre-wrap",children:m})]})]})]}),l.tags&&l.tags.length>0&&(0,s.jsxs)("div",{className:"mt-8 pt-4 border-t border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2",children:"Tags:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:l.tags.map(e=>(0,s.jsx)("span",{className:"text-xs bg-slate-200 text-slate-700 dark:bg-slate-600 dark:text-slate-200 px-2 py-1 rounded-full",children:e},e))})]}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:(0,s.jsx)(D,{articleTitle:l.title,articleUrl:c})}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"You Might Also Like"}),y&&(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(j.A,{})}),k&&(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(N,{message:k})}),!y&&!k&&0===b.length&&(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No related articles found."}),!y&&!k&&b.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:b.map(e=>(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg shadow-md dark:shadow-slate-900/50 overflow-hidden cursor-pointer transition-transform duration-200 hover:scale-105 group",onClick:()=>I(e),role:"link",tabIndex:0,onKeyPress:t=>{("Enter"===t.key||" "===t.key)&&I(e)},"aria-label":"Read more about ".concat(e.title),children:[(0,s.jsx)("img",{src:e.imageUrl||"https://picsum.photos/seed/".concat(e.id,"/300/180"),alt:e.title,className:"w-full h-32 object-cover",loading:"lazy"}),(0,s.jsxs)("div",{className:"p-4",children:[e.category&&(0,s.jsx)("p",{className:"text-xs font-semibold text-yellow-600 dark:text-yellow-400 uppercase tracking-wider mb-1",children:e.category}),(0,s.jsx)("h4",{className:"text-md font-semibold text-slate-700 dark:text-slate-100 group-hover:text-yellow-600 dark:group-hover:text-yellow-400 line-clamp-2",children:e.title})]})]},e.id))})]})]}),(0,s.jsx)("button",{onClick:a,className:"mt-10 w-full px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg shadow-md hover:bg-yellow-400 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:text-slate-900 transition-colors duration-300",children:"Close Article"})]})})},q=e=>{let{isOpen:t,onClose:a,galleryItem:l,allItems:o=[],onNavigate:i,enableSlideshow:n=!0,slideshowInterval:c=5e3,autoStartSlideshow:d=!1}=e,[m,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(0),[x,p]=(0,r.useState)(d),[b,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!0),w=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(l&&o.length>0){let e=o.findIndex(e=>e.id===l.id);g(e>=0?e:0)}},[l,o]);let j=(0,r.useCallback)(()=>{n&&!(o.length<=1)&&(p(!0),w.current=setInterval(()=>{g(e=>(e+1)%o.length)},c))},[n,o.length,c]),N=(0,r.useCallback)(()=>{p(!1),w.current&&(clearInterval(w.current),w.current=null)},[]),A=(0,r.useCallback)(()=>{x?N():j()},[x,j,N]),S=(0,r.useCallback)(()=>{if(document.fullscreenElement)document.exitFullscreen(),f(!1);else{var e;null===(e=k.current)||void 0===e||e.requestFullscreen(),f(!0)}},[]);(0,r.useEffect)(()=>{let e=()=>{f(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),(0,r.useEffect)(()=>{let e;let a=()=>{y(!0),clearTimeout(e),e=setTimeout(()=>{x&&y(!1)},3e3)};if(t){a();let t=()=>a();return document.addEventListener("mousemove",t),()=>{clearTimeout(e),document.removeEventListener("mousemove",t)}}},[t,x]),(0,r.useEffect)(()=>{u(!1)},[l,h]),(0,r.useEffect)(()=>{let e=e=>{if(t)switch(e.key){case"Escape":a();break;case"ArrowLeft":C();break;case"ArrowRight":E();break;case" ":e.preventDefault(),A();break;case"f":case"F":S()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,h,o.length,A,S]),(0,r.useEffect)(()=>(t||N(),()=>N()),[t,N]),(0,r.useEffect)(()=>{t&&d&&o.length>1&&j()},[t,d,o.length,j]);let C=(0,r.useCallback)(()=>{o.length>1&&(g(h>0?h-1:o.length-1),i&&i("prev"),x&&N())},[o.length,h,i,x,N]),E=(0,r.useCallback)(()=>{o.length>1&&(g(h<o.length-1?h+1:0),i&&i("next"),x&&N())},[o.length,h,i,x,N]);if(!t||!l)return null;let I=o.length>0?o[h]:l;return(0,s.jsxs)("div",{ref:k,className:"fixed inset-0 z-50 flex items-center justify-center bg-black transition-all duration-300 ".concat(b?"bg-opacity-100":"bg-opacity-90 backdrop-blur-sm"),onClick:e=>{e.target===e.currentTarget&&a()},role:"dialog","aria-modal":"true","aria-labelledby":"lightbox-title",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/50 to-transparent p-4 transition-all duration-300 ".concat(v?"opacity-100 translate-y-0":"opacity-0 -translate-y-full"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:n&&o.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:A,className:"p-2 text-white hover:text-gray-300 transition-colors rounded-lg bg-black/30 hover:bg-black/50","aria-label":x?"Pause slideshow":"Play slideshow",children:x?(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6"})}):(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m6-10V4a2 2 0 00-2-2H5a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2V4z"})})}),(0,s.jsx)("button",{onClick:S,className:"p-2 text-white hover:text-gray-300 transition-colors rounded-lg bg-black/30 hover:bg-black/50","aria-label":b?"Exit fullscreen":"Enter fullscreen",children:b?(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9V4.5M9 9H4.5M9 9L3.5 3.5M15 9h4.5M15 9V4.5M15 9l5.5-5.5M9 15H4.5M9 15v4.5M9 15l-5.5 5.5M15 15h4.5M15 15v4.5m0-4.5l5.5 5.5"})}):(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})}),o.length>1&&(0,s.jsxs)("div",{className:"text-white text-sm bg-black/30 px-3 py-1 rounded-full",children:[h+1," of ",o.length]}),(0,s.jsx)("button",{onClick:a,className:"p-2 text-white hover:text-gray-300 transition-colors rounded-lg bg-black/30 hover:bg-black/50","aria-label":"Close lightbox",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:C,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 p-3 text-white hover:text-gray-300 transition-all duration-300 rounded-full bg-black/30 hover:bg-black/50 ".concat(v?"opacity-100 translate-x-0":"opacity-0 -translate-x-full"),"aria-label":"Previous image",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("button",{onClick:E,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 p-3 text-white hover:text-gray-300 transition-all duration-300 rounded-full bg-black/30 hover:bg-black/50 ".concat(v?"opacity-100 translate-x-0":"opacity-0 translate-x-full"),"aria-label":"Next image",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.length>1&&(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 flex gap-2 transition-all duration-300 ".concat(v?"opacity-100 translate-y-0":"opacity-0 translate-y-full"),children:o.map((e,t)=>(0,s.jsx)("button",{onClick:()=>g(t),className:"w-2 h-2 rounded-full transition-all duration-300 ".concat(t===h?"bg-white scale-125":"bg-white/50 hover:bg-white/75"),"aria-label":"Go to image ".concat(t+1)},t))}),x&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 z-20 h-1 bg-white/20",children:(0,s.jsx)("div",{className:"h-full bg-white transition-all duration-100 ease-linear",style:{width:"".concat(Date.now()%c/c*100,"%")}})}),(0,s.jsxs)("div",{className:"max-w-7xl max-h-full mx-4 flex flex-col lg:flex-row items-center gap-6",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-4xl",children:[!m&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}),(0,s.jsx)("img",{src:I.imageUrl,alt:I.title,className:"max-w-full max-h-[80vh] object-contain transition-opacity duration-300 ".concat(m?"opacity-100":"opacity-0"),onLoad:()=>u(!0)})]}),(0,s.jsxs)("div",{className:"lg:w-80 bg-white dark:bg-slate-800 rounded-lg p-6 max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)("h2",{id:"lightbox-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:I.title}),I.category&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("span",{className:"inline-block px-3 py-1 text-sm font-medium text-white rounded-full",style:{backgroundColor:I.category.color},children:I.category.name})}),I.description&&(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:I.description}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-slate-500 dark:text-slate-400",children:[I.photographer&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,s.jsxs)("span",{children:["Photographer: ",I.photographer]})]}),I.location&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,s.jsxs)("span",{children:["Location: ",I.location]})]}),I.dateTaken&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsxs)("span",{children:["Date: ",new Date(I.dateTaken).toLocaleDateString()]})]})]}),I.tags&&I.tags.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tags:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:I.tags.map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 rounded",children:e},t))})]}),o.length>1&&(0,s.jsx)("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:(0,s.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:[h+1," of ",o.length]})})]})]})]})},O=[{id:"celebrating-dominican-independence-day-2024",slug:"celebrating-dominican-independence-day-2024",title:"Celebrating Dominican Independence Day: A Community United",summary:"Community members come together to celebrate Dominican Independence Day with traditional performances, food, and cultural activities.",content:"Every February 27th, Dominicans around the world come together to celebrate their independence from Haiti in 1844...",author:"Maria Rodriguez",category:"Community Events",publishedAt:"2024-02-27T00:00:00",imageUrl:"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=800&h=600&fit=crop",tags:["independence","community","culture","celebration"],featured:!0},{id:"traditional-mangu-family-recipe",slug:"traditional-mangu-family-recipe",title:"The Art of Making Traditional Mangu: A Family Recipe",summary:"Learn to make authentic Dominican mangu with this traditional family recipe passed down through generations.",content:"Mangu is more than just a dish—it's a cornerstone of Dominican cuisine...",author:"Carlos Santana",category:"Food & Cuisine",publishedAt:"2024-01-15T00:00:00",imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",tags:["food","recipe","tradition","mangu"]}];function M(){let[e,t]=(0,r.useState)("light"),[a,d]=(0,r.useState)(n.PN.HOME),[m,u]=(0,r.useState)(""),[h,g]=(0,r.useState)("all"),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),[v,y]=(0,r.useState)([]),[w,N]=(0,r.useState)(!0),C={[n.PN.HOME]:(0,r.useRef)(null),[n.PN.NEWS_FEED]:(0,r.useRef)(null),[n.PN.GALLERY]:(0,r.useRef)(null),[n.PN.ABOUT_PUBLICATION]:(0,r.useRef)(null),[n.PN.MEET_THE_TEAM]:(0,r.useRef)(null),[n.PN.CONTACT_US]:(0,r.useRef)(null)},E=(0,r.useCallback)(()=>{let a="light"===e?"dark":"light";t(a),window.localStorage&&localStorage.setItem("theme",a),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===a)},[e]);(0,r.useEffect)(()=>{{let e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,s=e||(a?"dark":"light");t(s),document.documentElement.classList.toggle("dark","dark"===s)}N(!1)},[]);let D=(0,r.useCallback)(e=>{var t;let a=null===(t=C[e])||void 0===t?void 0:t.current;if(a){let e=a.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}},[]);(0,r.useEffect)(()=>{let e=()=>{let e=window.scrollY+100;for(let[t,a]of Object.entries(C)){let s=a.current;if(s){let{offsetTop:a,offsetHeight:r}=s;if(e>=a&&e<a+r){d(t);break}}}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let M=(0,r.useCallback)(e=>{u(e)},[]),P=(0,r.useCallback)(e=>{g(e)},[]),B=(0,r.useCallback)(e=>{p(e)},[]),F=(0,r.useCallback)(()=>{p(null)},[]),_=(0,r.useCallback)(e=>{f(e)},[]),R=(0,r.useCallback)(()=>{f(null)},[]),z=(0,r.useCallback)(e=>{y(e)},[]),H=(0,r.useCallback)(e=>{y(e),e.length>0&&f(e[0])},[]),G=O.find(e=>e.featured)||O[0];return w?(0,s.jsx)(j.A,{}):(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[(0,s.jsx)(l.A,{theme:e,toggleTheme:E}),(0,s.jsx)(o.A,{navLinks:n.gt,onNavLinkClick:D,activeSection:a,searchTerm:m,onSearchChange:M}),(0,s.jsxs)("main",{className:"flex-grow",children:[(0,s.jsx)(i,{ref:C[n.PN.HOME],id:n.PN.HOME,article:G,onReadMoreClick:B}),(0,s.jsx)(k,{ref:C[n.PN.NEWS_FEED],id:n.PN.NEWS_FEED,className:"fade-in-section",onReadMoreClick:B,searchTerm:m,activeCategory:h,onCategoryChange:P,onSearchChange:M}),(0,s.jsx)(A,{ref:C[n.PN.GALLERY],id:n.PN.GALLERY,className:"fade-in-section",onImageClick:_,onStackClick:z,onSlideshowStart:H}),(0,s.jsx)(c,{ref:C[n.PN.ABOUT_PUBLICATION],id:n.PN.ABOUT_PUBLICATION,className:"fade-in-section"}),(0,s.jsx)(S,{ref:C[n.PN.MEET_THE_TEAM],id:n.PN.MEET_THE_TEAM,className:"fade-in-section"}),(0,s.jsx)(I,{ref:C[n.PN.CONTACT_US],id:n.PN.CONTACT_US,className:"fade-in-section"})]}),(0,s.jsx)(L.A,{}),(0,s.jsx)(T.A,{}),x&&(0,s.jsx)(U,{article:x,onClose:F}),b&&(0,s.jsx)(q,{item:b,items:v,onClose:R,onNavigate:f})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[191,441,517,358],()=>t(1401)),_N_E=e.O()}]);